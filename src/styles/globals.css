@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Typography System: Cormorant Garamond + Montserrat
 * Color Palette: Sage Green + Khaki + Off-White
 * Philosophy: Modern Editorial, Magazine-like restraint
 * 
 * Fonts are loaded via next/font in layout.tsx for optimal performance
 */

@layer base {
  html {
    @apply antialiased;
    scroll-behavior: smooth;
    font-feature-settings: 'liga' 1, 'kern' 1;
  }

  body {
    @apply font-sans;
    background-color: #A5A5A0; /* frame gray */
    color: #1A1A1A; /* charcoal */
    line-height: 1.625;
    font-size: 14px;
  }

  @media (min-width: 768px) {
    body {
      font-size: 16px;
    }
  }

  /* ============================================
   * Typography Hierarchy
   * Cormorant Garamond for headings (weight 500)
   * Montserrat for utility text (uppercase, spaced)
   * ============================================ */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
    color: #1A1A1A; /* charcoal */
    line-height: 1.1;
    font-weight: 500;
  }

  h1 {
    @apply text-4xl md:text-6xl;
  }

  h2 {
    @apply text-3xl md:text-5xl;
  }

  h3 {
    @apply text-2xl md:text-4xl;
  }

  h4 {
    @apply text-xl md:text-2xl;
  }

  p {
    @apply leading-relaxed max-w-prose;
  }

  a {
    @apply transition-all duration-200 ease-out;
  }

  small, .caption {
    @apply text-sm;
    color: rgba(26, 26, 26, 0.6); /* charcoal/60 */
  }
}

@layer components {
  /* ============================================
   * Button Styles - Modern Editorial Palette
   * Sage: #6B705C, Off-White: #F8F9FA, Charcoal: #1A1A1A
   * ============================================ */
  
  /* Primary CTA - Sage green (darker, matching reference) */
  .btn-primary {
    @apply inline-flex items-center justify-center px-8 py-3 
           font-medium rounded-full uppercase
           hover:shadow-lg active:scale-[0.98] transition-all duration-200 ease-out;
    background-color: #6B705C;
    color: #F8F9FA;
    letter-spacing: 0.15em;
  }
  .btn-primary:hover {
    background-color: #5a5e4d;
  }

  /* Secondary - Outlined charcoal */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-8 py-3 
           border-2 font-medium rounded-full uppercase
           active:scale-[0.98] transition-all duration-200 ease-out;
    border-color: #1A1A1A;
    color: #1A1A1A;
    letter-spacing: 0.15em;
  }
  .btn-secondary:hover {
    background-color: #1A1A1A;
    color: #F8F9FA;
  }

  /* Ghost/Outline white - for sage backgrounds */
  .btn-outline-white {
    @apply inline-flex items-center justify-center px-8 py-3 
           border-2 font-medium rounded-full uppercase
           bg-transparent active:scale-[0.98] transition-all duration-200 ease-out;
    border-color: rgba(248, 249, 250, 0.6);
    color: #F8F9FA;
    letter-spacing: 0.15em;
  }
  .btn-outline-white:hover {
    background-color: rgba(248, 249, 250, 0.1);
    border-color: #F8F9FA;
  }

  /* Text/Ghost button */
  .btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2
           underline underline-offset-4 uppercase
           transition-all duration-200 ease-out;
    color: #1A1A1A;
    text-decoration-color: rgba(26, 26, 26, 0.4);
    letter-spacing: 0.1em;
  }
  .btn-ghost:hover {
    text-decoration-color: #6B705C;
  }

  /* Container utilities */
  .container-content {
    @apply max-w-content mx-auto px-6;
  }

  .container-wide {
    @apply max-w-wide mx-auto px-6;
  }

  /* Section spacing */
  .section {
    @apply py-section-sm md:py-section;
  }

  /* Link styles - charcoal with sage on hover */
  .link-underline {
    @apply underline underline-offset-4 decoration-1 transition-all duration-200;
    color: #1A1A1A;
    text-decoration-color: rgba(26, 26, 26, 0.4);
  }
  .link-underline:hover {
    text-decoration-color: #6B705C;
  }

  /* Card hover effect */
  .card-hover {
    @apply border rounded-xl hover:shadow-lg transition-all duration-200 ease-out;
    background-color: #F8F9FA;
    border-color: rgba(26, 26, 26, 0.2);
  }
  .card-hover:hover {
    border-color: rgba(107, 112, 92, 0.4);
  }

  /* Form input focus states - sage accent */
  .input-focus {
    @apply focus:ring-2 outline-none transition-all duration-200;
  }
  .input-focus:focus {
    --tw-ring-color: #6B705C;
    border-color: #6B705C;
  }
}

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Screen reader only - for skip links and hidden labels */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .focus\:not-sr-only:focus {
    position: absolute;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* ============================================
 * Focus & Accessibility Styles
 * ============================================ */
@layer base {
  /* Visible focus ring - sage accent */
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: #6B705C; /* sage */
    --tw-ring-offset-color: #A5A5A0; /* frame gray */
  }

  a:focus,
  button:focus {
    @apply outline-none;
  }

  a {
    @apply underline-offset-2;
  }

  /* Selection color - subtle sage tint */
  ::selection {
    background-color: rgba(107, 112, 92, 0.2); /* sage/20 */
    color: #1A1A1A; /* charcoal */
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}
