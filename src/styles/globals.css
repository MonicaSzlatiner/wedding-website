@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Typography System: Cormorant Garamond + Manrope
 * Color Palette: Terracotta + Espresso + Off-White
 * Philosophy: Quiet Luxury, Editorial elegance
 * 
 * Fonts are loaded via next/font in layout.tsx for optimal performance
 */

@layer base {
  html {
    @apply antialiased;
    scroll-behavior: smooth;
    font-feature-settings: 'liga' 1, 'kern' 1;
  }

  body {
    @apply font-sans;
    background-color: #F5F5F0; /* warm off-white */
    color: #2D2926; /* espresso */
    line-height: 1.625;
    font-size: 14px;
  }

  @media (min-width: 768px) {
    body {
      font-size: 16px;
    }
  }

  /* ============================================
   * Typography Hierarchy
   * Cormorant Garamond for headings (weight 400, italic)
   * Manrope for utility text (uppercase, spaced)
   * ============================================ */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
    color: #2D2926; /* espresso */
    line-height: 1.1;
    font-weight: 400;
  }

  h1 {
    @apply text-4xl md:text-6xl;
  }

  h2 {
    @apply text-3xl md:text-5xl;
  }

  h3 {
    @apply text-2xl md:text-4xl;
  }

  h4 {
    @apply text-xl md:text-2xl;
  }

  p {
    @apply leading-relaxed max-w-prose;
  }

  a {
    @apply transition-all duration-200 ease-out;
  }

  small, .caption {
    @apply text-sm;
    color: rgba(45, 41, 38, 0.6); /* espresso/60 */
  }

  /* Serif italic text class */
  .serif-text {
    font-family: 'Cormorant Garamond', serif;
  }

  /* Max content width utility */
  .max-content {
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
  }

  /* Details marker removal */
  details > summary::-webkit-details-marker {
    display: none;
  }
}

@layer components {
  /* ============================================
   * Button Styles - Quiet Luxury Palette
   * Espresso: #2D2926, Terracotta: #C37B60, Off-White: #F8F9FA
   * ============================================ */
  
  /* Primary CTA - Espresso */
  .btn-primary {
    @apply inline-flex items-center justify-center px-10 py-4 
           font-bold rounded-full uppercase text-xs
           hover:opacity-90 active:scale-[0.98] transition-all duration-200 ease-out;
    background-color: #2D2926;
    color: #F8F9FA;
    letter-spacing: 0.3em;
  }
  .btn-primary:hover {
    background-color: #3d3935;
  }

  /* Secondary - Outlined espresso */
  .btn-secondary {
    @apply inline-flex items-center justify-center px-6 py-2.5 
           border font-bold rounded-full uppercase text-xs
           active:scale-[0.98] transition-all duration-200 ease-out;
    border-color: rgba(45, 41, 38, 0.2);
    color: #2D2926;
    letter-spacing: 0.3em;
  }
  .btn-secondary:hover {
    background-color: #2D2926;
    color: #F8F9FA;
  }

  /* Terracotta outline - accent button */
  .btn-terracotta {
    @apply inline-flex items-center justify-center px-6 py-2 
           border font-black rounded-full uppercase text-xs
           active:scale-[0.98] transition-all duration-200 ease-out;
    border-color: rgba(195, 123, 96, 0.2);
    color: #C37B60;
    letter-spacing: 0.4em;
  }
  .btn-terracotta:hover {
    background-color: #C37B60;
    color: #F8F9FA;
  }

  /* Ghost/Outline white - for dark backgrounds */
  .btn-outline-white {
    @apply inline-flex items-center justify-center px-5 py-2.5 
           border font-bold rounded-full uppercase text-xs
           bg-transparent active:scale-[0.98] transition-all duration-200 ease-out;
    border-color: rgba(248, 249, 250, 0.4);
    color: #F8F9FA;
    letter-spacing: 0.3em;
  }
  .btn-outline-white:hover {
    background-color: rgba(248, 249, 250, 0.1);
    border-color: #F8F9FA;
  }

  /* Text/Ghost button */
  .btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2
           uppercase text-xs font-bold
           transition-all duration-200 ease-out;
    color: #C37B60;
    letter-spacing: 0.3em;
    border-bottom: 2px solid rgba(195, 123, 96, 0.2);
    padding-bottom: 0.5rem;
  }
  .btn-ghost:hover {
    border-bottom-color: #C37B60;
  }

  /* Container utilities */
  .container-content {
    @apply max-w-content mx-auto px-6;
  }

  .container-wide {
    @apply max-w-wide mx-auto px-6;
  }

  /* Section spacing */
  .section {
    @apply py-section-sm md:py-section;
  }

  /* Link styles - terracotta accent */
  .link-underline {
    @apply underline underline-offset-4 decoration-1 transition-all duration-200;
    color: #C37B60;
    text-decoration-color: rgba(195, 123, 96, 0.2);
  }
  .link-underline:hover {
    text-decoration-color: #C37B60;
  }

  /* Card hover effect */
  .card-hover {
    @apply border rounded-xl hover:shadow-lg transition-all duration-200 ease-out;
    background-color: #F8F9FA;
    border-color: rgba(45, 41, 38, 0.1);
  }
  .card-hover:hover {
    border-color: rgba(195, 123, 96, 0.4);
  }

  /* Form input focus states - terracotta accent */
  .input-focus {
    @apply focus:ring-2 outline-none transition-all duration-200;
  }
  .input-focus:focus {
    --tw-ring-color: #C37B60;
    border-color: #C37B60;
  }

  /* Grayscale hover effect for images */
  .grayscale-hover {
    @apply grayscale-[20%] hover:grayscale-0 transition-all duration-1000;
  }

  /* Thin divider line */
  .divider-thin {
    width: 2rem;
    height: 0.5px;
    background-color: rgba(45, 41, 38, 0.2);
  }
}

@layer utilities {
  /* Text balance for headings */
  .text-balance {
    text-wrap: balance;
  }

  /* Screen reader only - for skip links and hidden labels */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .focus\:not-sr-only:focus {
    position: absolute;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* ============================================
 * Focus & Accessibility Styles
 * ============================================ */
@layer base {
  /* Visible focus ring - terracotta accent */
  a:focus-visible,
  button:focus-visible,
  [role="button"]:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: #C37B60; /* terracotta */
    --tw-ring-offset-color: #F5F5F0; /* background */
  }

  a:focus,
  button:focus {
    @apply outline-none;
  }

  a {
    @apply underline-offset-2;
  }

  /* FAQ answer links */
  .faq-answer a {
    color: #C37B60;
    text-decoration: underline;
    text-underline-offset: 2px;
    transition: opacity 0.2s ease;
  }

  .faq-answer a:hover {
    opacity: 0.7;
  }

  /* Selection color - subtle terracotta tint */
  ::selection {
    background-color: rgba(195, 123, 96, 0.2); /* terracotta/20 */
    color: #2D2926; /* espresso */
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}
